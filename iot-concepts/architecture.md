# üèóÔ∏è IoT System Architecture

> **"Architecture is about making important decisions."**
> ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤ "‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Gateway?", "‡∏ó‡∏≥‡πÑ‡∏°‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤ Cloud ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á?" ‡πÅ‡∏•‡∏∞ "‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô‡∏î‡∏µ?"

---

## 1. The Standard 3-Layer Architecture

‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á IoT ‡πÅ‡∏ö‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏™‡πà‡∏ß‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå



```mermaid
graph TD
    subgraph "1. Perception Layer (Sensing)"
        Sensor[üå°Ô∏è Sensor / Actuator]
        MCU[üß† Microcontroller]
    end

    subgraph "2. Network Layer (Transport)"
        Gateway[üì° Gateway / Router]
        Internet((‚òÅÔ∏è Internet / 4G / 5G))
    end

    subgraph "3. Application Layer (Processing)"
        Server[üñ•Ô∏è Cloud Server]
        App[üì± Mobile App / Dashboard]
    end

    Sensor --> MCU
    MCU --> Gateway
    Gateway --> Internet
    Internet --> Server
    Server --> App

```

### ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏±‡πâ‡∏ô:

1. **Perception Layer (‡∏ä‡∏±‡πâ‡∏ô‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ):**
* **‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û (Sense) ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (Actuate)
* **‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå:** ESP32, STM32, Sensors, Barcode Scanner
* **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏∂‡∏á:** ‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏ô‡πÑ‡∏ü (Power), ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (Accuracy)


2. **Network Layer (‡∏ä‡∏±‡πâ‡∏ô‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•):**
* **‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Å‡∏±‡∏ö Server
* **‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ:** WiFi, LoRaWAN, NB-IoT, RS-485
* **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏∂‡∏á:** ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (Range), ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ (Reliability)


3. **Application Layer (‡∏ä‡∏±‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô):**
* **‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏¥‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏® ‡∏Å‡∏£‡∏≤‡∏ü ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
* **‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ:** MQTT Broker, Database, Web Dashboard
* **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏∂‡∏á:** UX/UI, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Security)



---

## 2. Edge, Fog, and Cloud Computing

‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• *‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á* ‡∏Ç‡∏∂‡πâ‡∏ô Cloud ‡πÑ‡∏î‡πâ (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏ô‡πá‡∏ï‡πÅ‡∏•‡∏∞‡∏ä‡πâ‡∏≤) ‡πÄ‡∏£‡∏≤‡∏à‡∏∂‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ö‡πà‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•:

| ‡∏£‡∏∞‡∏î‡∏±‡∏ö | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (Location) | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß (Latency) | ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô |
| --- | --- | --- | --- | --- |
| **Edge** | ‡∏ï‡∏±‡∏ß‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (MCU/Sensor) | ‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å (< 1ms) | ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ó‡∏±‡∏ô‡∏ó‡∏µ, ‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô | ‡∏ï‡∏±‡∏î‡πÑ‡∏ü‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£ Overheat, ‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô |
| **Fog** | ‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô (Gateway/Local Server) | ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á (10-100ms) | ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ | ‡πÄ‡∏Å‡πá‡∏ö Log ‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô, ‡πÅ‡∏õ‡∏•‡∏á Protocol (Modbus -> MQTT) |
| **Cloud** | ‡∏ö‡∏ô Internet (AWS/Azure) | ‡∏ä‡πâ‡∏≤ (> 100ms) | ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß, ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å | Dashboard ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£, Machine Learning ‡πÄ‡∏ó‡∏£‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• |

### üß† Decision Making Flow

* **Critical Safety:** ‡∏ó‡∏≥‡∏ó‡∏µ‡πà **Edge** (‡∏´‡πâ‡∏≤‡∏°‡∏£‡∏≠‡πÄ‡∏ô‡πá‡∏ï)
* **Privacy / Local Control:** ‡∏ó‡∏≥‡∏ó‡∏µ‡πà **Fog** (‡πÄ‡∏ô‡πá‡∏ï‡∏ï‡∏±‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ)
* **Big Data / Analytics:** ‡∏ó‡∏≥‡∏ó‡∏µ‡πà **Cloud**

---

## 3. The Industrial IoT (IIoT) Architecture

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡∏≥ IoT ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô ‡πÄ‡∏£‡∏≤‡∏°‡∏±‡∏Å‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á **ISA-95 (The Purdue Model)** ‡∏´‡∏£‡∏∑‡∏≠ Automation Pyramid ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ IT (‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏°‡∏≠‡∏£‡πå) ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö OT (‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô) ‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á

```mermaid
graph BT
    subgraph cloud["Cloud / Enterprise (IT)"]
        L4["Level 4: ERP (Business Planning)"]
        L3["Level 3: MES (Manufacturing Execution)"]
    end

    subgraph control["Control Zone (OT)"]
        L2["Level 2: SCADA / HMI (Monitoring)"]
        L1["Level 1: PLC / Control (Sensing & Manipulating)"]
        L0["Level 0: Field (Sensors & Motors)"]
    end

    L0 --> L1
    L1 --> L2
    L2 -.-> L3
    L3 -.-> L4

    IoT_Gateway["üöÄ IIoT Gateway"]
    
    %% IoT ‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
    L1 --> IoT_Gateway
    IoT_Gateway --> L3
    IoT_Gateway --> Cloud["‚òÅÔ∏è Cloud"]

    style IoT_Gateway fill:#f9f,stroke:#333,stroke-width:2px

```

* **Traditional:** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡πÑ‡∏´‡∏•‡∏Ç‡∏∂‡πâ‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô (0 -> 1 -> 2 -> 3 -> 4) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ä‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏Å‡∏´‡∏•‡πà‡∏ô
* **Modern IIoT:** ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ **IoT Gateway** (‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π) ‡πÄ‡∏à‡∏≤‡∏∞‡∏ó‡∏∞‡∏•‡∏∏‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Level 1 (PLC) ‡∏™‡πà‡∏á‡∏ï‡∏£‡∏á‡πÑ‡∏õ Level 3 ‡∏´‡∏£‡∏∑‡∏≠ Cloud ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß (Bypassing the hierarchy)

---

## 4. Key Design Patterns

‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢:

### 4.1 Direct Connectivity (Consumer Style)

* **Device -> WiFi -> Cloud**
* *‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:* ‡∏á‡πà‡∏≤‡∏¢ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å
* *‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:* ‡∏Å‡∏¥‡∏ô‡πÑ‡∏ü, ‡∏ñ‡πâ‡∏≤‡πÄ‡∏ô‡πá‡∏ï‡∏´‡∏•‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠‡∏à‡∏ö, ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ WiFi ‡∏•‡πà‡∏°

### 4.2 Gateway Aggregation (Industrial Style)

* **Device (Nodes) -> [Local Protocol] -> Gateway -> [Internet] -> Cloud**
* *Nodes:* ‡πÉ‡∏ä‡πâ LoRa, BLE, ‡∏´‡∏£‡∏∑‡∏≠ RS-485 (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏ü/‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô)
* *Gateway:* ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡πá‡∏ï‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏õ‡∏•‡∏±‡πä‡∏Å
* *‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:* ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£, ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏á‡πà‡∏≤‡∏¢, ‡πÄ‡∏ô‡πá‡∏ï‡∏´‡∏•‡∏∏‡∏î Gateway ‡∏¢‡∏±‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ

---

[üîô ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤ IoT Concepts](./README.md)

